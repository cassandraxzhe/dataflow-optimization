constraints:
  version: 0.4
  targets:
  - target: DRAM
    type: dataspace
    keep: [Inputs, Outputs, Weights]
    bypass: []
  - target: DRAM
    type: temporal
    permutation: [R, S, Q, P, C, M, N]
  - target: global_buffer
    type: dataspace
    keep: [Inputs, Outputs, Weights]
    bypass: []
  - target: global_buffer
    type: temporal
    permutation: [S, R, Q, P, C, M, N]
  - target: PE
    type: spatial
    permutation: [C, M, R, S, P, Q, N]
    split: 1
  - target: scratchpad
    type: dataspace
    keep: [Weights]
    bypass: [Inputs, Outputs]
  - target: scratchpad
    type: temporal
    permutation: [Q, P, N, C, M, S, R]

  - target: weight_reg
    type: dataspace
    keep: [Weights]
    bypass: [Inputs, Outputs]
  - target: weight_reg
    type: temporal
    permutation: [R, S, P, Q, C, M, N]
  - target: input_activation_reg
    type: dataspace
    keep: [Inputs]
    bypass: [Weights, Outputs]
  - target: input_activation_reg
    type: temporal
    permutation: [R, S, P, Q, C, M, N]
  - target: output_activation_reg
    type: dataspace
    keep: [Outputs]
    bypass: [Weights, Inputs]
  - target: output_activation_reg
    type: temporal
    permutation: [R, S, P, Q, C, M, N]